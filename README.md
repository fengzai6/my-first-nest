# æˆ‘çš„ç¬¬ä¸€ä¸ª NestJS é¡¹ç›®

<p align="center">
  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo-small.svg" width="120" alt="Nest Logo" /></a>
</p>

<p align="center">
  <a href="https://github.com/fengzai6/my-first-nest/releases/latest">
    <img src="https://img.shields.io/github/v/release/fengzai6/my-first-nest" alt="Release">
  </a>
  <a href="https://github.com/fengzai6/my-first-nest/blob/master/LICENSE">
    <img src="https://img.shields.io/github/license/fengzai6/my-first-nest" alt="License">
  </a>
  <a href="https://github.com/fengzai6/my-first-nest/stargazers">
    <img src="https://img.shields.io/github/stars/fengzai6/my-first-nest" alt="Stars">
  </a>
</p>

## é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªåŸºäº [NestJS](https://nestjs.com/) æ¡†æ¶çš„å…¥é—¨çº§é¡¹ç›®ï¼Œæ—¨åœ¨å¸®åŠ©å¼€å‘è€…å­¦ä¹ å’Œå®è·µ NestJS çš„åŸºç¡€çŸ¥è¯†ã€‚æœ¬é¡¹ç›®å°†å®ç°ä¸€ä¸ªç®€å•çš„ç³»ç»Ÿï¼Œå±•ç¤º NestJS çš„æ ¸å¿ƒç‰¹æ€§å’Œæœ€ä½³å®è·µï¼ˆä¸ªäººè®¤çŸ¥ä¸­ï¼Œå¯èƒ½å­˜åœ¨é”™è¯¯ï¼‰ï¼Œå¹¶å°†å°½åŠ›çš„å®Œå–„ç›¸å…³çš„æ³¨é‡Šã€‚

## æŠ€æœ¯æ ˆ

- NestJS - æ¸è¿›å¼ Node.js æ¡†æ¶
- TypeScript - ç±»å‹å®‰å…¨çš„ JavaScript è¶…é›†
- TypeORM - å¼ºå¤§çš„ ORM æ¡†æ¶
- PostgreSQL - å…³ç³»å‹æ•°æ®åº“

## é¡¹ç›®ç‰¹ç‚¹

- éµå¾ª NestJS æœ€ä½³å®è·µå’Œé¡¹ç›®ç»“æ„
- å®Œæ•´çš„ CRUD æ“ä½œç¤ºä¾‹
- æ¨¡å—åŒ–è®¾è®¡
- ä¾èµ–æ³¨å…¥çš„ä½¿ç”¨
- æ•°æ®éªŒè¯å’Œé”™è¯¯å¤„ç†
- åŸºæœ¬çš„è®¤è¯å’Œæˆæƒ

## é¡¹ç›®è·¯çº¿å›¾

### å·²å®ŒæˆåŠŸèƒ½ âœ…

- [x] åŸºç¡€é¡¹ç›®ç»“æ„æ­å»º
- [x] Swagger API æ–‡æ¡£é›†æˆ
- [x] TypeORM æ•°æ®åº“é›†æˆ
- [x] ç”¨æˆ·è´¦å·ç³»ç»Ÿ
- [x] JWT è®¤è¯ä¸æˆæƒ
- [x] æ•°æ®åº“åˆå§‹åŒ–å’Œç›¸å…³è¿ç§»å·¥å…·
  - [x] migration ç”Ÿæˆå·¥å…·
  - [x] æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
  - [x] æ•°æ®åº“ç§å­è„šæœ¬
- [ ] RBAC æƒé™ç®¡ç†
  - [x] æ ¸å¿ƒ RBAC0ï¼šç”¨æˆ·ã€è§’è‰²ã€æƒé™
  - [ ] åˆ†çº§ RBAC1ï¼šè§’è‰²ç»§æ‰¿ï¼Œè§’è‰²å¯ä»¥ç»§æ‰¿ä¸‹çº§è§’è‰²çš„æƒé™
  - [ ] çº¦æŸ RBAC2ï¼šæƒé™çº¦æŸï¼Œå¼ºåˆ¶èŒè´£åˆ†ç¦»ï¼ŒæŸäº›ä»»åŠ¡è¦æ±‚ä¸¤ä¸ªæˆ–å¤šä¸ªè§’è‰²å…±åŒå®Œæˆ
  - [ ] å¯¹ç§° RBAC3ï¼š1 + 2, å¹¶ä¸”å¯ä»¥è·å–ç»„ç»‡æ‹¥æœ‰çš„æƒé™ï¼Œç»§æ‰¿ Groupï¼Œç¦»å¼€ Group åï¼Œæƒé™æ¶ˆå¤±
- [x] é›ªèŠ±ç®—æ³•ä½œä¸º ID ç”Ÿæˆå™¨

### è®¡åˆ’åŠŸèƒ½ ğŸ“‹

- [ ] ä½¿ç”¨ joi è¿›è¡Œæ•°æ®éªŒè¯ï¼ˆç¯å¢ƒå˜é‡ï¼‰
- [ ] ç”¨æˆ·ç»„ç»‡ç»“æ„ç®¡ç†
- [ ] Redis ç¼“å­˜é›†æˆ
- [ ] æ—¥å¿—ç³»ç»Ÿå®ç°
- [ ] æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
- [ ] å®šæ—¶ä»»åŠ¡ç³»ç»Ÿ
- [ ] æ¶ˆæ¯é˜Ÿåˆ—é›†æˆ
- [ ] å•å…ƒæµ‹è¯•ä¸ E2E æµ‹è¯•
- [ ] Docker å®¹å™¨åŒ–éƒ¨ç½²
- [ ] å›½é™…åŒ–æ”¯æŒ
- [ ] æ€§èƒ½ç›‘æ§
- [ ] è‡ªåŠ¨åŒ–éƒ¨ç½²æµç¨‹
- [ ] æ¥å£é™æµ
- [ ] æ•°æ®å¤‡ä»½æ–¹æ¡ˆ
- [ ] ç¬¬ä¸‰æ–¹ç™»å½•é›†æˆ
- [ ] WebSocket å®æ—¶é€šä¿¡
- [ ] ä½¿ç”¨æ–‡æ¡£ç”Ÿæˆ
  - [ ] ä½¿ç”¨ vitepress ç”Ÿæˆæ–‡æ¡£
- [ ] github action è‡ªåŠ¨åŒ–éƒ¨ç½²
  - [ ] éƒ¨ç½²æ–‡æ¡£é¡µé¢

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js (>= 18.x)
- npm æˆ– yarn
- PostgreSQL

### å®‰è£…ä¾èµ–

```bash
$ yarn install
```

### é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.example` æ–‡ä»¶ä¸º `.env`ï¼Œå¹¶æ ¹æ®éœ€è¦ä¿®æ”¹é…ç½®ï¼š

```bash
$ cp .env.example .env
```

### è¿è¡Œé¡¹ç›®

```bash
# å¼€å‘æ¨¡å¼
$ yarn start:dev

# ç”Ÿäº§æ¨¡å¼
$ yarn start:prod
```

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ app.module.ts      # åº”ç”¨ç¨‹åºæ ¹æ¨¡å—
â”œâ”€â”€ app.controller.ts  # åº”ç”¨ç¨‹åºæ§åˆ¶å™¨
â”œâ”€â”€ app.service.ts     # åº”ç”¨ç¨‹åºæœåŠ¡
â”œâ”€â”€ main.ts           # åº”ç”¨ç¨‹åºå…¥å£æ–‡ä»¶
â”œâ”€â”€ modules/          # åŠŸèƒ½æ¨¡å—ç›®å½•
â”‚   â”œâ”€â”€ users/       # ç”¨æˆ·æ¨¡å—
â”‚   â”œâ”€â”€ groups/      # ç¾¤ç»„æ¨¡å—
â”‚   â”œâ”€â”€ auth/        # è®¤è¯æ¨¡å—
â”‚   â””â”€â”€ cats/        # ç¤ºä¾‹æ¨¡å—
â”œâ”€â”€ common/          # é€šç”¨å·¥å…·å’Œå¸¸é‡
â”œâ”€â”€ config/          # é…ç½®æ–‡ä»¶
â”œâ”€â”€ shared/          # å…±äº«æ¨¡å—å’Œç»„ä»¶
â””â”€â”€ types/           # TypeScript ç±»å‹å®šä¹‰
```

æ¯ä¸ªåŠŸèƒ½æ¨¡å—ï¼ˆå¦‚ usersã€groups ç­‰ï¼‰é€šå¸¸åŒ…å«ä»¥ä¸‹ç»“æ„ï¼š

```
modules/xxx/
â”œâ”€â”€ dto/            # æ•°æ®ä¼ è¾“å¯¹è±¡
â”œâ”€â”€ entities/       # æ•°æ®åº“å®ä½“
â”œâ”€â”€ xxx.controller.ts  # æ§åˆ¶å™¨
â”œâ”€â”€ xxx.service.ts    # æœåŠ¡
â””â”€â”€ xxx.module.ts     # æ¨¡å—å®šä¹‰
```

## å¼€å‘è§„èŒƒ

- ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼
- éµå¾ª RESTful API è®¾è®¡è§„èŒƒ
- ä½¿ç”¨ DTO è¿›è¡Œæ•°æ®éªŒè¯
- ç»Ÿä¸€çš„é”™è¯¯å¤„ç†
- è§„èŒƒçš„ä»£ç æ³¨é‡Š
- ä½¿ç”¨ ESLint å’Œ Prettier ä¿æŒä»£ç é£æ ¼ä¸€è‡´

## å­¦ä¹ èµ„æº

- [NestJS å®˜æ–¹æ–‡æ¡£](https://docs.nestjs.com)
- [TypeScript æ–‡æ¡£](https://www.typescriptlang.org/docs)
- [TypeORM æ–‡æ¡£](https://typeorm.io)

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥å¸®åŠ©æ”¹è¿›è¿™ä¸ªé¡¹ç›®ã€‚

## è®¸å¯è¯

[MIT licensed](LICENSE)
